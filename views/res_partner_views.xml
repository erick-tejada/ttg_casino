<?xml version="1.0" encoding="utf-8"?>
<odoo>
        <record id="view_partner_property_form" model="ir.ui.view">
            <field name="name">res.partner.casino.form.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="groups_id" eval="[(4, ref('ttg_casino.group_casino_accountant'))]"/>
            <field name="arch" type="xml">
                <field name="function" position="before">
                    <field name="x_is_casino_client"/>
                </field>
                <field name="category_id" position="after">
                    <field name="x_is_lender" groups="ttg_casino.group_casino_accountant"/>
                    <field name="x_tier2_amount" groups="ttg_casino.group_casino_accountant" attrs="{'invisible': [('x_is_lender','=',False)]}"/>
                    <field name="x_tier1_percent" groups="ttg_casino.group_casino_accountant" widget="percentage" attrs="{'invisible': [('x_is_lender','=',False)]}"/>
                    <field name="x_tier2_percent" groups="ttg_casino.group_casino_accountant" widget="percentage" attrs="{'invisible': [('x_is_lender','=',False)]}"/>
                </field>
            </field>
        </record>
        
        <record id="view_casino_partner_prestamista_filter" model="ir.ui.view">
            <field name="name">casino.partner.prestamista.filter</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <search string="Search Prestamista">
                    <filter name="x_is_lender_filter" string="Prestamista" domain="[('x_is_lender', '=', True)]"/>
                </search>
            </field>
        </record>

        <record id="action_casino_partner_prestamista" model="ir.actions.act_window">
            <field name="name">Prestamistas</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_casino_partner_prestamista_filter"/>
            <field name="context">{'search_default_x_is_lender_filter': 1, 'default_x_is_lender': True}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Crear un nuevo prestamista.
              </p>
            </field>
        </record>
        
        <record id="view_casino_partner_cliente_filter" model="ir.ui.view">
            <field name="name">casino.partner.cliente.filter</field>
            <field name="model">res.partner</field>
            <field name="arch" type="xml">
                <search string="Search Cliente Casino">
                    <filter name="x_is_casino_client" string="Cliente Casino" domain="[('x_is_casino_client', '=', True)]"/>
                </search>
            </field>
        </record>

        <record id="action_casino_partner_cliente" model="ir.actions.act_window">
            <field name="name">Clientes Casino</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">tree,form</field>
            <field name="search_view_id" ref="view_casino_partner_cliente_filter"/>
            <field name="context">{'search_default_x_is_casino_client': 1, 'default_x_is_casino_client': True}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Crear un nuevo cliente del Casino.
              </p>
            </field>
        </record>
</odoo>
